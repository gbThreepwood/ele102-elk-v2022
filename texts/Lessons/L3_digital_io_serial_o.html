<!DOCTYPE html>




<html lang="en">
  <head>
    <meta charset="utf-8" />
    
    <title>Digital I/O, and serial port output &mdash; ELE102 Microcontroller course v1.1.0 documentation</title>
    <meta name="description" content="">
    <meta name="author" content="">

    

<link rel="stylesheet" href="../../_static/css/basicstrap-base.css" type="text/css" />
<link rel="stylesheet" id="current-theme" href="../../_static/css/bootstrap3/bootstrap.min.css" type="text/css" />
<link rel="stylesheet" id="current-adjust-theme" type="text/css" />

<link rel="stylesheet" href="../../_static/css/font-awesome.min.css">

<style type="text/css">
  body {
    padding-top: 60px;
    padding-bottom: 40px;
  }
</style>

<link rel="stylesheet" href="../../_static/css/basicstrap.css" type="text/css" />
<link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
<link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
<link rel="stylesheet" href="../../_static/css/basicstrap.css" type="text/css" />
    
<script type="text/javascript">
  var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    '../../',
            VERSION:     'v1.1.0',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  true
  };
</script>
    <script type="text/javascript" src="../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../_static/js/jquery.min.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script type="text/javascript" src="../../_static/js/bootstrap3.min.js"></script>
<script type="text/javascript" src="../../_static/js/jquery.cookie.min.js"></script>
<script type="text/javascript" src="../../_static/js/basicstrap.js"></script>
<script type="text/javascript">
</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="top" title="ELE102 Microcontroller course v1.1.0 documentation" href="../../index.html" />
    <link rel="prev" title="Arduino Introduction" href="L2_Arduino_intro.html" /> 
  </head>
  <body role="document">
    <div id="navbar-top" class="navbar navbar-fixed-top navbar-default" role="navigation" aria-label="top navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="../../index.html">ELE102 Microcontroller course v1.1.0 documentation</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
              <li class="dropdown visible-xs">
                <a role="button" id="localToc" data-toggle="dropdown" data-target="#" href="#">Table Of Contents <b class="caret"></b></a>
                <ul class="dropdown-menu localtoc sp-localtoc" role="menu" aria-labelledby="localToc">
                <ul>
<li><a class="reference internal" href="#">Digital I/O, and serial port output</a><ul>
<li><a class="reference internal" href="#arduino-program-structure">Arduino program structure</a><ul>
<li><a class="reference internal" href="#exercise-define-macro">Exercise: define macro</a></li>
</ul>
</li>
<li><a class="reference internal" href="#atmega328-gpio-pins">Atmega328 GPIO pins</a></li>
<li><a class="reference internal" href="#digital-outputs">Digital outputs</a><ul>
<li><a class="reference internal" href="#selecting-a-suitable-current-limiting-resistor-for-the-led">Selecting a suitable current limiting resistor for the LED</a></li>
</ul>
</li>
<li><a class="reference internal" href="#digital-inputs">Digital inputs</a></li>
<li><a class="reference internal" href="#variable-types">Variable Types</a></li>
<li><a class="reference internal" href="#serial-port-output">Serial port output</a><ul>
<li><a class="reference internal" href="#exercise-count-to-10">Exercise: Count to 10</a></li>
</ul>
</li>
</ul>
</li>
</ul>

                </ul>
              </li>

            
              <li><a href="L2_Arduino_intro.html" title="Arduino Introduction" accesskey="P">previous </a></li>
              <li><a href="../../genindex.html" title="General Index" accesskey="I">index </a></li>
            

            <li class="visible-xs">
                <form class="search form-search form-inline navbar-form navbar-right sp-searchbox" action="../../search.html" method="get">
                  <div class="input-append input-group">
                    <input type="text" class="search-query form-control" name="q" placeholder="Search...">
                    <span class="input-group-btn">
                    <input type="submit" class="btn" value="Go" />
                    </span>
                  </div>
                  <input type="hidden" name="check_keywords" value="yes" />
                  <input type="hidden" name="area" value="default" />
                </form>
            </li>

            

          </ul>

        </div>
      </div>
    </div>
    

    <!-- container -->
    <div class="container-fluid">

      <!-- row -->
      <div class="row">
         
<div class="col-md-3 hidden-xs" id="sidebar-wrapper">
  <div class="sidebar hidden-xs" role="navigation" aria-label="main navigation">
<h3><a href="../../index.html">Table of Contents</a></h3>
<p class="caption" role="heading"><span class="caption-text">Lessons:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="L0_Introduction_elk.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="software_hardware_preparations.html">Software and hardware preparations</a></li>
<li class="toctree-l1"><a class="reference internal" href="L1_UC_intro.html">Lesson 1a: What is a Microcontroller</a></li>
<li class="toctree-l1"><a class="reference internal" href="L2_Arduino_intro.html">Lesson 1b: Introduction to Arduino</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Lesson 2: Digital I/O, and serial output</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#arduino-program-structure">Arduino program structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#atmega328-gpio-pins">Atmega328 GPIO pins</a></li>
<li class="toctree-l2"><a class="reference internal" href="#digital-outputs">Digital outputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#digital-inputs">Digital inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#variable-types">Variable Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="#serial-port-output">Serial port output</a></li>
</ul>
</li>
</ul>

<div id="searchbox" role="search">
  <h3>Quick search</h3>
  <form class="search form-inline" action="../../search.html" method="get">
      <div class="input-append input-group">
        <input type="text" class="search-query form-control" name="q" placeholder="Search...">
        <span class="input-group-btn">
        <input type="submit" class="btn" value="Go" />
        </span>
      </div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
  <h4>Previous topic</h4>
  <p class="topless"><a href="L2_Arduino_intro.html"
                        title="previous chapter">Arduino Introduction</a></p>
  </div>
</div> 
        

        <div class="col-md-9" id="content-wrapper">
          <div class="document" role="main">
            <div class="documentwrapper">
              <div class="bodywrapper">
                <div class="body">
                  
  <div class="section" id="digital-i-o-and-serial-port-output">
<span id="l3-digital-io"></span><h1>Digital I/O, and serial port output<a class="headerlink" href="#digital-i-o-and-serial-port-output" title="Permalink to this headline">¶</a></h1>
<p>In this lesson we will cover how to deal with digital inputs, digital outputs, as well as how to send data out through the serial port.</p>
<p>In addition to the microcontroller topics, we also need to cover some general programming concepts.</p>
<div class="section" id="arduino-program-structure">
<h2>Arduino program structure<a class="headerlink" href="#arduino-program-structure" title="Permalink to this headline">¶</a></h2>
<p>You remember that in the last course we have compiled the built-in <code class="code docutils literal notranslate"><span class="pre">Blink</span></code> example. Let’s remember the procedure first:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// the setup function runs once when you press reset or power the board</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="c1">// initialize digital pin LED_BUILTIN as an output.</span>
<span class="w">   </span><span class="n">pinMode</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// the loop function runs over and over again forever</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span><span class="w">   </span><span class="c1">// turn the LED on (HIGH is the voltage level)</span>
<span class="w">   </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span><span class="w">                       </span><span class="c1">// wait for a second</span>
<span class="w">   </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">LED_BUILTIN</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span><span class="w">    </span><span class="c1">// turn the LED off by making the voltage LOW</span>
<span class="w">   </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span><span class="w">                       </span><span class="c1">// wait for a second</span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>Lets start by breaking down the different parts of the code.</p>
<p>First you should know that any text which is preceded by two forward slashes <code class="code docutils literal notranslate"><span class="pre">//</span></code> is considered a comment, and is ignored. This is one of the two most common ways to add comments to you code, and is a very useful and important part of programming. Document anything which is not obvious in the code.</p>
<p>The first lines of code is the <code class="code docutils literal notranslate"><span class="pre">setup()</span></code> function. A function is a group of code under a identifier (the identifier <code class="code docutils literal notranslate"><span class="pre">setup()</span></code>). The body of the <code class="code docutils literal notranslate"><span class="pre">setup()</span></code> function is delimited by the curly brackets <code class="code docutils literal notranslate"><span class="pre">{</span></code>, and <code class="code docutils literal notranslate"><span class="pre">}</span></code>. In this function the only statement we see is a call to another function, the <code class="code docutils literal notranslate"><span class="pre">pinMode(LED_BUILTIN,</span> <span class="pre">OUTPUT);</span></code> function. This function configures the pin which is connected to the build in LED as a output. It is one of the many functions in the Arduino library.</p>
<p>Further down we see another function definition <code class="code docutils literal notranslate"><span class="pre">loop()</span></code>. The first statement in the <code class="code docutils literal notranslate"><span class="pre">loop()</span></code> function is a call to the function <code class="code docutils literal notranslate"><span class="pre">digitalWrite(LED_BUILTIN,</span> <span class="pre">HIGH);</span></code>. The function tells the microcontroller to set the pin connected to the built in LED high, i.e. the microcontroller will output 5 V on this pin. The second statement <code class="code docutils literal notranslate"><span class="pre">delay(1000);</span></code> performs a delay of 1000 milliseconds, i.e. 1 second. The microcontroller sits on this positiion in the code for one second, performing no other task than waiting. We then see a instruction to turn the output low <code class="code docutils literal notranslate"><span class="pre">digitalWrite(LED_BUILTIN,</span> <span class="pre">LOW);</span></code>, followed by another delay.</p>
<p>If the need for two delay functions confuses you, try to think about what would happen if we only had a single delay in the code. Say we removed the second delay, we would get the following structure of our program:</p>
<ol class="arabic simple">
<li><p><code class="code docutils literal notranslate"><span class="pre">digitalWrite(LED_BUILTIN,</span> <span class="pre">HIGH);</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">delay(1000);</span></code></p></li>
<li><p><code class="code docutils literal notranslate"><span class="pre">digitalWrite(LED_BUILTIN,</span> <span class="pre">LOW);</span></code></p></li>
</ol>
<p>When the program reaches line 3, it will immediately jump to line 1 (due to the fact that we are in the <code class="code docutils literal notranslate"><span class="pre">loop()</span></code> function). Hence the output goes from <cite>LOW</cite>, to <cite>HIGH</cite> as fast as the microcontroller is able to execute the instructions. It will then remain in <cite>HIGH</cite> for one second again. In practice the LED will remain <cite>HIGH</cite> for more than 99.9% percent of the time, and will appear to be glowing constantly.</p>
<p>When the processor has finished executing alle the statements in the <code class="code docutils literal notranslate"><span class="pre">loop()</span></code> function, it starts over again from the top. Thus the microcontroller is able to continuously perform its duties.</p>
<p>In this example <code class="code docutils literal notranslate"><span class="pre">LED_BUILTIN</span></code> is a <em>Macro definition</em>, a pre-processor directive which is stored somewhere in the Arduino libraries. In the example the term <code class="code docutils literal notranslate"><span class="pre">LED_BUILTIN</span></code> is a place holder for the number <strong>13</strong>. Instead, we could have written the code like the following, and literally nothing would have change in practice:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// the setup function runs once when you press reset or power the board</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="c1">// initialize digital pin LED_BUILTIN as an output.</span>
<span class="w">   </span><span class="n">pinMode</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// the loop function runs over and over again forever</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">   </span><span class="n">digitalWrite</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span><span class="w">   </span><span class="c1">// turn the LED on (HIGH is the voltage level)</span>
<span class="w">   </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span><span class="w">                       </span><span class="c1">// wait for a second</span>
<span class="w">   </span><span class="n">digitalWrite</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span><span class="w">    </span><span class="c1">// turn the LED off by making the voltage LOW</span>
<span class="w">   </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span><span class="w">                       </span><span class="c1">// wait for a second</span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>However, the latter example is less flexible than the first. The reason is that whenever you have another LED attached to your Arduino, but in another pin than <strong>13</strong>, you need to change this <em>definition</em> in 3 different places. Therefore programming languages typically offer different kinds of <em>place holder</em> mechanisms. Macro definitions is one way to introduce them in C/C++, and is defined like:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define identifier replacement</span>
</pre></div>
</div>
<p>Such as:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define LED_BUILTIN 13</span>
</pre></div>
</div>
<p>Basically, it says your processor that “whenever you see this <code class="code docutils literal notranslate"><span class="pre">identifier</span></code>, replace it with the <code class="code docutils literal notranslate"><span class="pre">replacement</span></code>”. This way of introducing a place holder is executed in a pre-processor directive. It is not different than deleting one text (as <code class="code docutils literal notranslate"><span class="pre">identifier</span></code>) and replacing it with another text (as <code class="code docutils literal notranslate"><span class="pre">replacement</span></code>). All these replacements are performed before the compiler starts the job of interpreting our code.</p>
<p>In fact any statement which begins with <code class="code docutils literal notranslate"><span class="pre">#</span></code> is interpreted by the preprocessor. In addition to <code class="code docutils literal notranslate"><span class="pre">#define</span></code>, you should also know about <code class="code docutils literal notranslate"><span class="pre">#include</span></code>, which imports another file in to your source file.</p>
<div class="section" id="exercise-define-macro">
<h3>Exercise: define macro<a class="headerlink" href="#exercise-define-macro" title="Permalink to this headline">¶</a></h3>
<p>Let’s define our own macro definition for our external LED, attached to <strong>pin number 2</strong>. Also, change the blink rate from 1000 milliseconds to half a second.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cp">#define MY_EXT_LED 2</span>
<span class="cp">#define BLINK_RATE 500</span>
<span class="c1">// the setup function runs once when you press reset or power the board</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="c1">// initialize digital pin LED_BUILTIN as an output.</span>
<span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">MY_EXT_LED</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// the loop function runs over and over again forever</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">MY_EXT_LED</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span><span class="w">   </span><span class="c1">// turn the LED on (HIGH is the voltage level)</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="n">BLINK_RATE</span><span class="p">);</span><span class="w">                       </span><span class="c1">// wait for a second</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">MY_EXT_LED</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span><span class="w">    </span><span class="c1">// turn the LED off by making the voltage LOW</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="n">BLINK_RATE</span><span class="p">);</span><span class="w">                       </span><span class="c1">// wait for a second</span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="atmega328-gpio-pins">
<h2>Atmega328 GPIO pins<a class="headerlink" href="#atmega328-gpio-pins" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="digital-outputs">
<h2>Digital outputs<a class="headerlink" href="#digital-outputs" title="Permalink to this headline">¶</a></h2>
<div class="section" id="selecting-a-suitable-current-limiting-resistor-for-the-led">
<h3>Selecting a suitable current limiting resistor for the LED<a class="headerlink" href="#selecting-a-suitable-current-limiting-resistor-for-the-led" title="Permalink to this headline">¶</a></h3>
<p>The characteristics of a LED (like any diode) is inherently non-linear. A small voltage variation may cause a large variation in current through the diode. If this is not managed the diode will be destroyed by excessive current.</p>
<p>As the light intensity of the diode depends on current, it is apparent that the diode should be supplied by a current source. A real current source is a complex device however, and thus we often opt to approximate the current source by means of a resistor.</p>
<p>The color of a LED is not determined by the color of the package, but rather by it’s internal physical structure. The different colors thus have different characteristics, such as different nominal voltage drop.</p>
<p>The value of the selected resistor will impact the light intensity of the LED. The minimum resistor value (i.e. maximum light intensity) depends on the maximum current, as well as the voltage/current-characteristics of the LED.</p>
<p>The digital outputs of the Arduino UNO has a voltage level of 5V. The voltage drop of a LED vill typically vary between 1.8V and 3.3V, depending on the color. It will also vary slightly depending on the current, but this variation may be ignored in most applications. The maximum current of the large THT LED’s in the Arduino kit is 20 mA. By subtracting the LED voltage from the supplied voltage, we find the required voltage drop of the reisitor.</p>
<p>The current through a resistor is given by:</p>
<div class="math notranslate nohighlight">
\[I_f = \frac{V_R}{R} = \frac{5 - V_f}{R}\]</div>
<p>Thus a approximately constant voltage drop will cause a approximately constant current. The required resistor size is thus given by:</p>
<div class="math notranslate nohighlight">
\[R = \frac{5 - V_{f}}{I_f}\]</div>
<p>Worst case, if the voltage drop is only 1.8V, and the maximum current is 20mA, we get the following minimum resistor value:</p>
<div class="math notranslate nohighlight">
\[R = \frac{5 - 1.8}{0.02} = 160 \Omega\]</div>
<p>In practice you might want to limit the current to a maximum of 15mA though. It the Arduino kit the recommended resistor size is 220 Ohm, which should be safe in all cases involving 20mA LED’s. In practive values as high as 1k (or even more) may also be used, if the required light intensity is not to high.</p>
<p>For high power LED’s you should also make sure that the power dissipated in the resistor does nod exceed the ratings of the resistor <a class="footnote-reference brackets" href="#f1" id="id1">1</a>.</p>
<div class="math notranslate nohighlight">
\[P = I_f^2 \cdot R\]</div>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="f1"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>For wery high power applications a simple current limiting reisitor is not suitable, and you should instead  use power electronics.</p>
</dd>
</dl>
</div>
</div>
<div class="section" id="digital-inputs">
<h2>Digital inputs<a class="headerlink" href="#digital-inputs" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="variable-types">
<h2>Variable Types<a class="headerlink" href="#variable-types" title="Permalink to this headline">¶</a></h2>
<p>In some cases using macro definitions is the most efficient way because is a faster process. The processor doesn’t have to check the value of a <em>variable</em> in the register. Do you remember what is the register?</p>
<p>However, macro definitions can be risky and needs to be named carefully. Generally new programmers may overwrite a macro on top of another macro which has been defined before. Furthermore, if the <code class="code docutils literal notranslate"><span class="pre">identifier</span></code> is defined in a very generic way, since it is a text replacement, it can replace some or your other variable definitions. The preprocessor does not understand C/C++ properly, it simply replaces any occurrence of <code class="code docutils literal notranslate"><span class="pre">identifier</span></code> by <code class="code docutils literal notranslate"><span class="pre">replacement</span></code>. Additionally a definition is constant, it cannot change during the execution of a program.</p>
<p>Therefore we have <em>variables</em> which can change during run time, and hold various different <em>types</em> of information depending on how they are declared. In the Arduino Cookbook First Edition Chapter 2.2.</p>
<table class="colwidths-given docutils align-default" id="id2">
<caption><span class="caption-text">Simple Primitive Types in Arduino (Variables)</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 8%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Numeric types</p></th>
<th class="head"><p>Bytes</p></th>
<th class="head"><p>Range</p></th>
<th class="head"><p>Use</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>int</p></td>
<td><p>2</p></td>
<td><p>-32768 to 32767</p></td>
<td><p>Represents positive and negative integer values.</p></td>
</tr>
<tr class="row-odd"><td><p>unsigned int</p></td>
<td><p>2</p></td>
<td><p>0 to 65535</p></td>
<td><p>Represents only positive values; otherwise, similar to int.</p></td>
</tr>
<tr class="row-even"><td><p>long</p></td>
<td><p>4</p></td>
<td><p>-2147483648 to 2147483647</p></td>
<td><p>Represents a very large range of positive and negative values.</p></td>
</tr>
<tr class="row-odd"><td><p>unsigned long</p></td>
<td><p>4</p></td>
<td><p>0 to 4294967295</p></td>
<td><p>Represents a very large range of positive values.</p></td>
</tr>
<tr class="row-even"><td><p>float</p></td>
<td><p>4</p></td>
<td><p>3.4028235E+38 to -3.4028235E+38</p></td>
<td><p>Represents numbers with fractions; use to approximate real-world measurements.</p></td>
</tr>
<tr class="row-odd"><td><p>double</p></td>
<td><p>4</p></td>
<td><p>The same as float</p></td>
<td><p>In Arduino, double is just another name for float.</p></td>
</tr>
<tr class="row-even"><td><p>boolean</p></td>
<td><p>1</p></td>
<td><p>false (0) or true (1)</p></td>
<td><p>Represents true and false values.</p></td>
</tr>
<tr class="row-odd"><td><p>char</p></td>
<td><p>1</p></td>
<td><p>-128 to 127</p></td>
<td><p>Represebts a single character. Cal also represent a signed value between -128 and 127.</p></td>
</tr>
<tr class="row-even"><td><p>byte</p></td>
<td><p>1</p></td>
<td><p>0 to 255</p></td>
<td><p>Similar to char, but for unsigned values.</p></td>
</tr>
</tbody>
</table>
<table class="docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 80%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>string</p></td>
<td><p>Represents arrays of chars (characters) typically used to contain text.</p></td>
</tr>
<tr class="row-even"><td><p>void</p></td>
<td><p>Used in function declarations where no value is returned, or for pointer to any type.</p></td>
</tr>
</tbody>
</table>
<p>Variables are generally defined such that the values can be changed during the execution of the program; after some calculations, in conditional cases, as the sensor readings change etc. On the other hand, there are some cases that we, as the developer, know that the value of a variable is constant. Through the whole program, it will remain the same value. In these cases it is more efficient and safe to define them as <strong>constant</strong> values, which tells the processor that this value has just <em>read-only</em> property. This feature is useful for especially longer codes in their debug process. In our case, we know that the LED is always connected a predefined pin and it will not be changed in any conditions. Therefore, we can define the pin-number as a <em>constant integer</em>, which would be more memory-efficient declaration way.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">led_pin</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w"></span>
<span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">blink_rate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">500</span><span class="p">;</span><span class="w"></span>
<span class="c1">// the setup function runs once when you press reset or power the board</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="c1">// initialize digital pin LED_BUILTIN as an output.</span>
<span class="w">  </span><span class="n">pinMode</span><span class="p">(</span><span class="n">led_pin</span><span class="p">,</span><span class="w"> </span><span class="n">OUTPUT</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="c1">// the loop function runs over and over again forever</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">led_pin</span><span class="p">,</span><span class="w"> </span><span class="n">HIGH</span><span class="p">);</span><span class="w">   </span><span class="c1">// turn the LED on (HIGH is the voltage level)</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="n">blink_rate</span><span class="p">);</span><span class="w">                       </span><span class="c1">// wait for a second</span>
<span class="w">  </span><span class="n">digitalWrite</span><span class="p">(</span><span class="n">led_pin</span><span class="p">,</span><span class="w"> </span><span class="n">LOW</span><span class="p">);</span><span class="w">    </span><span class="c1">// turn the LED off by making the voltage LOW</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="n">blink_rate</span><span class="p">);</span><span class="w">                       </span><span class="c1">// wait for a second</span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Since in the embedded world memory is the main concern most of the time, it is good to have a more friendly type definitions. Instead of trying to remember the memory spaces of all the variable types, in Arduino there is a nicer-looking type definitions: <strong>uint8_t, uint16_t, uint32_t</strong>.</p>
<p>For example <em>char</em> is <strong>int8_t</strong> but <em>byte</em> is <strong>uint8_t</strong>.</p>
</div>
</div>
<div class="section" id="serial-port-output">
<h2>Serial port output<a class="headerlink" href="#serial-port-output" title="Permalink to this headline">¶</a></h2>
<p>The serial port will be covered in great detail in a future lecture, for now we will only be using it in its simplest form as a way to output data from the microcontroller. This will allow us some better insight in to the internal operation of the controller.</p>
<p>A very useful feature which is built-in to the Arduino IDE is the serial monitor.</p>
<p>You can use the serial-monitor in the Arduino IDE for debugging purposes. (Of course there are many different ways of using it but personally this is by far the most common reason that I have been using it).</p>
<img alt="Arduino serial monitor button" class="align-center" src="../../_images/serial-monitor.png" />
<p>PlatformIO also have a built in serial monitor.</p>
<p>In order to write something into the serial-monitor, we need to initialize the serial communication. This is achieved by calling the method <code class="docutils literal notranslate"><span class="pre">begin(9600)</span></code> on the <code class="docutils literal notranslate"><span class="pre">Serial</span></code> object. Normally this is performed in the <code class="docutils literal notranslate"><span class="pre">setup()</span></code> function. Further on several methods such as <code class="docutils literal notranslate"><span class="pre">println()</span></code> allows us to send data back from the microcontroller to our serial monitor. This is demonstrated in the following “hello, world!” example:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="c1">// initialize serial communication at 9600 bits per second:</span>
<span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="s">&quot;hello, world!&quot;</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="section" id="exercise-count-to-10">
<h3>Exercise: Count to 10<a class="headerlink" href="#exercise-count-to-10" title="Permalink to this headline">¶</a></h3>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p>Serial-monior is basically a terminal with a bit more sophisticated-looking. In order to set the serial-monitor with your board, you need to establish a UART communication Basically, as most of you know, you are uploading your sketches to the Arduino via USB cable. The general name of this commonly used protocol is <a class="reference external" href="https://www.wikiwand.com/en/Universal_asynchronous_receiver-transmitter">UART</a> (or in less often cases <a class="reference external" href="https://www.wikiwand.com/en/Universal_synchronous_and_asynchronous_receiver-transmitter">USART</a>). It is a wide concept that requires more time to grasp the details. We will look into that in our <a class="reference internal" href="L9_communication.html#l9-communication"><span class="std std-ref">communication protocols</span></a> lesson.</p>
</div>
</div>
</div>
</div>


                </div>
              </div>
            </div>
          </div>
        </div>
        
        
      </div><!-- /row -->

      <!-- row -->
      <div class="row footer-relbar">
<div id="navbar-related" class=" related navbar navbar-default" role="navigation" aria-label="related navigation">
  <div class="navbar-inner">
    <ul class="nav navbar-nav ">
        <li><a href="../../index.html">ELE102 Microcontroller course v1.1.0 documentation</a></li>
    </ul>
<ul class="nav navbar-nav pull-right hidden-xs hidden-sm">
      
        <li><a href="L2_Arduino_intro.html" title="Arduino Introduction" >previous</a></li>
        <li><a href="../../genindex.html" title="General Index" >index</a></li>
        <li><a href="#">top</a></li> 
      
    </ul>
  </div>
</div>
      </div><!-- /row -->

      <!-- footer -->
      <footer role="contentinfo">
          &copy; Copyright 2022, Gizem Ateş &amp; Eirik Haustveit.
        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 4.3.2.
      </footer>
      <!-- /footer -->

    </div>
    <!-- /container -->

  </body>
</html>